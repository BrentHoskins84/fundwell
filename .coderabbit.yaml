# yaml-language-server: $schema=https://coderabbit.ai/integrations/schema.v2.json

language: 'en-US'

early_access: false

reviews:
  # NOTE: Using relaxed settings for initial adoption. Once team is comfortable
  # with CodeRabbit, consider changing to profile: 'assertive' and
  # request_changes_workflow: true for stricter, blocking reviews.
  profile: 'chill'
  request_changes_workflow: false
  high_level_summary: true
  poem: false
  collapse_walkthrough: false
  review_status: true
  auto_review:
    enabled: true
    drafts: false
    base_branches:
      - main
      - master
      - staging

  tools:
    eslint:
      enabled: true
    biome:
      enabled: true

  path_instructions:
    - path: '**/*.{ts,tsx,js,jsx}'
      instructions: |
        ## Code Review Checklist

        Focus on these high-impact rules. Style enforcement is handled by ESLint/Biome.
        Full style guide: https://google.github.io/styleguide/tsguide.html

        ### üî¥ Critical Rules (flag these)

        1. **No `any`** ‚Äî Use `unknown`, generics, or specific types. If unavoidable, add a comment explaining why.
        2. **Named exports only** ‚Äî No `export default`. Use `export function`, `export const`, `export class`.
        3. **`const` by default** ‚Äî Use `let` only when reassignment is needed. Never use `var`.
        4. **Strict equality** ‚Äî Always `===`/`!==`. Exception: `== null` for null/undefined check.
        5. **Proper error handling** ‚Äî Throw `new Error()` objects, never primitives. Don't leave empty catch blocks.
        6. **Type annotations for public APIs** ‚Äî Exported functions must have explicit parameter and return types.
        7. **Use `import type`** ‚Äî For type-only imports: `import type { Foo } from './types'`

        ### üü° Important Rules (suggest improvements)

        8. **KISS** ‚Äî Favor simple solutions. If code needs extensive comments to explain, it's too complex.
        9. **DRY (Rule of Three)** ‚Äî Extract after seeing the same pattern 3+ times. Some duplication beats wrong abstraction.
        10. **Descriptive names** ‚Äî Names should be clear without comments. No Hungarian notation (`strName`), no `I` prefix on interfaces.
        11. **Minimize exports** ‚Äî Only export what's needed. Keep internal helpers private.
        12. **Prefer `interface`** ‚Äî Use `interface` for object types, `type` for unions/tuples/primitives.
        13. **No `@ts-ignore`** ‚Äî Avoid `@ts-ignore`, `@ts-expect-error`, `@ts-nocheck`. Fix the type issue instead.

        ### ‚öõÔ∏è React Rules (for .tsx/.jsx)

        14. **Functional components** ‚Äî Use hooks, not class components.
        15. **Single responsibility** ‚Äî One main component per file. Extract logic to custom hooks.
        16. **No premature optimization** ‚Äî Avoid `React.memo`, `useMemo`, `useCallback` unless there's a measured perf issue.

        ### üõ†Ô∏è Automated Tooling

        These are enforced by tooling and don't need manual review:
        - Formatting (Prettier)
        - Import ordering
        - Unused variables
        - Consistent syntax style

        ESLint/Biome and TSConfig strict mode handle most style rules automatically.

chat:
  auto_reply: true
